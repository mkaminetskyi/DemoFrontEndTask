<div
  class="general-one-s-report-page-content"
  th:fragment="content(pageHeading, dataEndpoint, exportEndpoint, renderDatePicker, renderClientPicker, renderRepresentativesPicker, userRole)"
>
  <link
    rel="stylesheet"
    th:href="@{/fragments/general-one-s-report-page-content/general-one-s-report-page-content.css}"
  />

  <main class="general-one-s-report-page-content__page-surface">
    <section
      id="accountsWithClientsSection"
      th:attr="data-data-endpoint=${dataEndpoint},data-export-endpoint=${exportEndpoint},data-user-role=${userRole}"
    >
      <h2
        class="heading--underlined"
        th:text="${pageHeading}"
      ></h2>

      <div class="general-one-s-report-page-content__filters-card">
        <div
          class="general-one-s-report-page-content__toolbar-grid"
          th:if="${renderDatePicker or renderClientPicker}"
        >
          <!-- datе picker -->
          <div
            class="range-field"
            th:if="${renderDatePicker}"
          >
            <div class="general-one-s-report-page-content__field">
              <!-- <div class="field dark-label condensed"> -->
              <label
                class="label"
                for="dateFrom"
                >Початок</label
              >
              <input
                class="input"
                type="date"
                id="dateFrom"
                name="from"
              />
            </div>
            <span
              class="range-separator"
              aria-hidden="true"
            ></span>

            <div class="general-one-s-report-page-content__field">
              <label for="dateTo">Кінець</label>
              <input
                class="input"
                type="date"
                id="dateTo"
                name="to"
              />
            </div>
          </div>

          <!-- renderClientPicker -->
          <div
            class="general-one-s-report-page-content__render-client-picker"
            th:if="${renderClientPicker}"
          >
            <label
              class="label"
              for="contractor"
              >Клієнт</label
            >
            <div
              class="general-one-s-report-page-content__search-field"
            >
              <!-- <div class="input-group combobox"> -->
              <input
                class="general-one-s-report-page-content__search-input input"
                type="text"
                id="contractor"
                name="contractor"
                placeholder="усі клієнти"
                value=""
                role="combobox"
                aria-autocomplete="list"
                aria-expanded="false"
                aria-controls="contractorSuggestions"
                autocomplete="off"
              />

              <!-- clear search-input button -->
              <button
                type="button"
                class="general-one-s-report-page-content__btn-clear"
                id="clear-search-client-button"
              >
                <img
                  src="/images/svg-icons/clear-horizontal.svg"
                  alt="очистити поле введення пошуку клієнта"
                />
              </button>

              <button
                type="button"
                class="btn-search"
                id="searchContractor"
                title="Знайти"
                aria-haspopup="listbox"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  aria-hidden="true"
                >
                  <path
                    d="M21 21l-3.8-3.8M10.8 18.6a7.8 7.8 0 1 1 0-15.6 7.8 7.8 0 0 1 0 15.6Z"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
              <div
                class="combo-dropdown is-hidden"
                id="contractorSuggestions"
                role="listbox"
                aria-label="Результати пошуку клієнтів"
              ></div>
            </div>
          </div>
        </div>

        <!-- renderRepresentativesPicker -->
        <div
          th:replace="~{fragments/general-one-s-report-page-content/fragments/representatives-picker/representatives-picker :: 
          representatives-picker(${renderRepresentativesPicker}, ${userRole})}"
        ></div>

        <!-- toolbar start -->
        <!-- toolbar start -->
        <!-- toolbar start  -->
        <div class="general-one-s-report-page-content__toolbar">
          <!-- download button -->
          <button
            type="button"
            class="general-one-s-report-page-content__btn-neutral is-hidden"
            id="downloadBtn"
            th:if="${exportEndpoint != null}"
          >
            <img
              src="/images/icon-download.svg"
              alt="Завантажити звіт"
              width="20"
              height="20"
            />
          </button>

          <!-- zoombar -->
          <div
            class="general-one-s-report-page-content__zoom-group border-neutral is-hidden"
            id="zoombar"
          >
            <button
              class="general-one-s-report-page-content__btn-neutral"
              id="zoomOut"
              aria-label="Зменшити масштаб"
            >
              −
            </button>
            <span
              class="general-one-s-report-page-content__zoom-label"
              id="zoomLabel"
              >100%</span
            >
            <button
              class="general-one-s-report-page-content__btn-neutral"
              id="zoomIn"
              aria-label="Збільшити масштаб"
            >
              +
            </button>
          </div>

          <!-- button "отримати звіт" -->
          <button
            type="button"
            class="general-one-s-report-page-content__btn-get-report"
            id="getBtn"
          >
            <!-- Отримати звіт -->
            Показати звіт
          </button>
        </div>
      </div>
      <!-- toolbar end -->
      <!-- toolbar end -->
      <!-- toolbar end -->

      <div
        id="loading"
        class="status is-hidden"
      >
        Отримую дані…
      </div>
      <div
        id="tableContainer"
        class="table-container card tight table-container--flush is-hidden"
      ></div>
      <div
        id="error"
        class="status error is-hidden"
      ></div>
    </section>
  </main>

  <script
    th:src="@{/fragments/general-one-s-report-page-content/general-one-s.js(v=${appVersion})}"
    type="module"
  ></script>
</div>
