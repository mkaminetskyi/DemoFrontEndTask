<!doctype html>
<html
  lang="uk"
  xmlns:th="http://www.thymeleaf.org"
  th:with="appVersion=${@environment.getProperty('app.version')}"
>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <title>Запуск Bulat+</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link
      rel="stylesheet"
      href="/css/app.css"
    />
  </head>
  <body class="auth-gateway">
    <div class="app-shell app-shell--auth">
      <header class="gateway-header">
        <h1 class="gateway-title">Bulat+</h1>
      </header>
      <main class="gateway-main">
        <div class="gateway-card">
          <div
            class="loader"
            id="authLoader"
            aria-hidden="true"
          ></div>
          <p id="authMessage">Перевіряємо ваш доступ…</p>
          <button
            class="btn secondary is-hidden"
            id="retryButton"
            type="button"
          >
            Спробувати ще раз
          </button>
          <div class="gateway-actions">
            <div
              class="telegram-login is-hidden"
              id="telegramWidgetContainer"
              aria-live="polite"
              th:attr="data-bot=${telegramBotUsername}"
            ></div>
            <p
              class="gateway-hint is-hidden"
              id="browserHint"
            ></p>
          </div>
        </div>
      </main>
      <footer class="gateway-footer">
        <small
          >Якщо ви ще не підтвердили авториацію у Telegram, зробіть це
          зараз.</small
        >
      </footer>
    </div>
    <script th:inline="javascript">
      window.__APP_CONTEXT__ = Object.assign(
        {},
        window.__APP_CONTEXT__ || {},
        {
          authenticated: /*[[${authenticated}]]*/ false,
        },
      );
    </script>
    <script
      src="/pages/auth-gateway/telegram-auth.js"
      defer
    ></script>
  </body>
</html>

<!-- th:src="@{/pages/auth-gateway/telegram-auth.js(v=${appVersion})}" -->
